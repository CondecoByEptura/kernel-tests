{
  "comments": [
    {
      "key": {
        "uuid": "30365848_9eae5997",
        "filename": "net/test/xfrm.py",
        "patchSetId": 3
      },
      "lineNbr": 313,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-12-20T05:12:04Z",
      "side": 1,
      "message": "Can you clarify, either here or in comments. whether the policy will be created if it does not exist and/or whether it will be updated if it does exist?",
      "range": {
        "startLine": 313,
        "startChar": 7,
        "endLine": 313,
        "endChar": 11
      },
      "revId": "b0b52dc7248a07062bc2df057eed1631222cb31d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "562fe488_be290ca3",
        "filename": "net/test/xfrm.py",
        "patchSetId": 3
      },
      "lineNbr": 313,
      "author": {
        "id": 1060151
      },
      "writtenOn": "2017-12-21T00:50:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "30365848_9eae5997",
      "range": {
        "startLine": 313,
        "startChar": 7,
        "endLine": 313,
        "endChar": 11
      },
      "revId": "b0b52dc7248a07062bc2df057eed1631222cb31d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d37f3a2b_1be6f783",
        "filename": "net/test/xfrm.py",
        "patchSetId": 3
      },
      "lineNbr": 315,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-12-20T05:12:04Z",
      "side": 1,
      "message": "In general it\u0027s better to use explicit \"if tmpl is not None:\" because \"if tmpl\" will return false for an empty string, an empty list, an int with a value of 0, etc.\n\nIt probably doesn\u0027t matter here because an empty string is not a valid template, but there are probably other attributes for which an empty string *is* a valid value (example: an integer attribute for which 0 is a meaningful value), and if we\u0027re consistent about \"is not None\", then we won\u0027t have problems with those in the future.\n\nSame for the mark.",
      "range": {
        "startLine": 315,
        "startChar": 4,
        "endLine": 315,
        "endChar": 12
      },
      "revId": "b0b52dc7248a07062bc2df057eed1631222cb31d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "272869d5_e56b1184",
        "filename": "net/test/xfrm.py",
        "patchSetId": 3
      },
      "lineNbr": 315,
      "author": {
        "id": 1060151
      },
      "writtenOn": "2017-12-21T00:50:41Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d37f3a2b_1be6f783",
      "range": {
        "startLine": 315,
        "startChar": 4,
        "endLine": 315,
        "endChar": 12
      },
      "revId": "b0b52dc7248a07062bc2df057eed1631222cb31d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "77d5bce6_e2c31201",
        "filename": "net/test/xfrm.py",
        "patchSetId": 3
      },
      "lineNbr": 337,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-12-20T05:12:04Z",
      "side": 1,
      "message": "cstruct",
      "range": {
        "startLine": 337,
        "startChar": 32,
        "endLine": 337,
        "endChar": 33
      },
      "revId": "b0b52dc7248a07062bc2df057eed1631222cb31d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d59c7f80_48d1b3eb",
        "filename": "net/test/xfrm.py",
        "patchSetId": 3
      },
      "lineNbr": 337,
      "author": {
        "id": 1060151
      },
      "writtenOn": "2017-12-21T00:50:41Z",
      "side": 1,
      "message": "It\u0027s a proper name in the codebase. I feel that suffixing every type definition with the underlying type would be cumbersome. If you feel strongly about it then I can go update all the docs in a single doc-update CL.",
      "parentUuid": "77d5bce6_e2c31201",
      "range": {
        "startLine": 337,
        "startChar": 32,
        "endLine": 337,
        "endChar": 33
      },
      "revId": "b0b52dc7248a07062bc2df057eed1631222cb31d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b07be87_966fd8d7",
        "filename": "net/test/xfrm.py",
        "patchSetId": 3
      },
      "lineNbr": 337,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-12-21T08:40:34Z",
      "side": 1,
      "message": "Well, then why did you do it in the two lines above this one, but not in this one? :-)\n\nI don\u0027t feel strongly about it either way.",
      "parentUuid": "d59c7f80_48d1b3eb",
      "range": {
        "startLine": 337,
        "startChar": 32,
        "endLine": 337,
        "endChar": 33
      },
      "revId": "b0b52dc7248a07062bc2df057eed1631222cb31d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a3ff959b_3bc4ca11",
        "filename": "net/test/xfrm.py",
        "patchSetId": 3
      },
      "lineNbr": 337,
      "author": {
        "id": 1060151
      },
      "writtenOn": "2017-12-21T18:24:32Z",
      "side": 1,
      "message": "Laziness? Inattention? Both certainly fueled by a propensity for copy+paste. But given a conscious thought I stand by my assertion that we shouldn\u0027t need it. And yes, consistency is important, so this is worth fixing. It\u0027s comment-only, so I\u0027ll accept your offer to do it in a new CL.",
      "parentUuid": "3b07be87_966fd8d7",
      "range": {
        "startLine": 337,
        "startChar": 32,
        "endLine": 337,
        "endChar": 33
      },
      "revId": "b0b52dc7248a07062bc2df057eed1631222cb31d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef7f076b_1f18a719",
        "filename": "net/test/xfrm_test.py",
        "patchSetId": 3
      },
      "lineNbr": 467,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-12-20T05:12:04Z",
      "side": 1,
      "message": "Might be worth testing if it\u0027s possible to have the same policy with the same mark, but in two different directions.",
      "revId": "b0b52dc7248a07062bc2df057eed1631222cb31d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "25aab075_2b611ab5",
        "filename": "net/test/xfrm_test.py",
        "patchSetId": 3
      },
      "lineNbr": 467,
      "author": {
        "id": 1060151
      },
      "writtenOn": "2017-12-21T00:50:41Z",
      "side": 1,
      "message": "Uploading a small test for this.",
      "parentUuid": "ef7f076b_1f18a719",
      "revId": "b0b52dc7248a07062bc2df057eed1631222cb31d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c252dcfc_9e763b1e",
        "filename": "net/test/xfrm_test.py",
        "patchSetId": 3
      },
      "lineNbr": 477,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-12-20T05:12:04Z",
      "side": 1,
      "message": "Suggest adding a clarifying comment explaining these differ only by SPI.",
      "range": {
        "startLine": 477,
        "startChar": 43,
        "endLine": 477,
        "endChar": 49
      },
      "revId": "b0b52dc7248a07062bc2df057eed1631222cb31d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c5909bbe_eb4de0d4",
        "filename": "net/test/xfrm_test.py",
        "patchSetId": 3
      },
      "lineNbr": 477,
      "author": {
        "id": 1060151
      },
      "writtenOn": "2017-12-21T00:50:41Z",
      "side": 1,
      "message": "It actually doesn\u0027t matter how they differ. I just chose SPI to mark the templates for verification later. This is how we know that the tmpl changed.",
      "parentUuid": "c252dcfc_9e763b1e",
      "range": {
        "startLine": 477,
        "startChar": 43,
        "endLine": 477,
        "endChar": 49
      },
      "revId": "b0b52dc7248a07062bc2df057eed1631222cb31d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e02e4847_6d396227",
        "filename": "net/test/xfrm_test.py",
        "patchSetId": 3
      },
      "lineNbr": 488,
      "author": {
        "id": 1000835
      },
      "writtenOn": "2017-12-20T05:12:04Z",
      "side": 1,
      "message": "Suggest doing this twice, once after the AddPolicyInfo and once here. Factor out into a nested function?\n\n    def CheckPolicyTemplate()\n      dump \u003d self.xfrm.DumpPolicyInfo()\n      self.assertEquals(1, len(dump))\n      _, attributes \u003d dump[0]\n      self.assertEquals(attributes[\u0027XFRMA_TMPL\u0027], tmpl2)\n\n  self.xfrm.AddPolicyInfo(policy, tmpl1, mark)\n  CheckPolicyTemplate()\n  self.xfrm.UpdatePolicyInfo(policy, tmpl2, mark)\n  CheckPolicyTemplate()",
      "range": {
        "startLine": 485,
        "startChar": 0,
        "endLine": 488,
        "endChar": 54
      },
      "revId": "b0b52dc7248a07062bc2df057eed1631222cb31d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "de26bb34_23880ed8",
        "filename": "net/test/xfrm_test.py",
        "patchSetId": 3
      },
      "lineNbr": 488,
      "author": {
        "id": 1060151
      },
      "writtenOn": "2017-12-21T18:24:32Z",
      "side": 1,
      "message": "Done (already). Looks like I forgot to mark this one.",
      "parentUuid": "e02e4847_6d396227",
      "range": {
        "startLine": 485,
        "startChar": 0,
        "endLine": 488,
        "endChar": 54
      },
      "revId": "b0b52dc7248a07062bc2df057eed1631222cb31d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}