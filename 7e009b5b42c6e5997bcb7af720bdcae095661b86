{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "193e3284_c73cd85c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1003247
      },
      "writtenOn": "2023-06-28T07:42:16Z",
      "side": 1,
      "message": "Why was this wrong in the first place?\n\nIt looks like the mentioned 4.14.273 has only 1 of the 2 fixes.\nHave you checked the version required is correct for 4.19.x 5.4.x etc?\n\nDoes https://android-review.git.corp.google.com/c/kernel/common/+/2640243 + bump up to 4.14.320+ also fix it?\n\nIs that what we should do instead?\n\nAlso note that:\n\nT required 4.9\nU requires 4.14\nV will [I believe] require 4.19\n\nSo from an aosp/master perspective I think I\u0027ll\n(a) drop support for \u003c4.19\n(b) probably just require the fixes to be present unconditionally.\n\n[but I assume you still want to cp to udc-dev...]",
      "revId": "7e009b5b42c6e5997bcb7af720bdcae095661b86",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0117a702_b9877830",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1297255
      },
      "writtenOn": "2023-06-28T18:55:05Z",
      "side": 1,
      "message": "```\nWhy was this wrong in the first place?\n\nIt looks like the mentioned 4.14.273 has only 1 of the 2 fixes.\nHave you checked the version required is correct for 4.19.x 5.4.x etc?\n```\n\nYes 4.14 only has one of the two fixes because the missing fix depends on the  `xfrm_policy` struct to have `if_id`. However `if_id` was only added in kernel 4.19 and above. I believe that is why the fix was not cherry picked back to 4.14 (https://android-review.git.corp.google.com/c/kernel/common/+/2038245/1//MERGE_LIST)\n\nAll other kernels got the two fixes since:\n4.19.236: aosp/c/kernel/common/+/2038725/1//MERGE_LIST\n5.4.186:  aosp/c/kernel/common/+/2031989/1//MERGE_LIST\n5.10.107: aosp/c/kernel/common/+/2031991/1//MERGE_LIST\n5.15.30: aosp/c/kernel/common/+/2031992/1//MERGE_LIST\n5.17: aosp/c/kernel/common/+/2009675/1//MERGE_LIST\n\n```\nDoes https://android-review.git.corp.google.com/c/kernel/common/+/2640243 + bump up to 4.14.320+ also fix it?\n\nIs that what we should do instead?\n```\n\nI don\u0027t think aosp/2640243 will compile since `if_id` is not supported\n\n```\nAlso note that:\n\nT required 4.9\nU requires 4.14\nV will [I believe] require 4.19\n\nSo from an aosp/master perspective I think I\u0027ll\n(a) drop support for \u003c4.19\n(b) probably just require the fixes to be present unconditionally.\n\n\n```\nAlthough Android platform requires old kernels, the MOBIKE feature is only required when the devices\u0027 VSR API is U/U+, which is enforced by CTS #testHasIpSecTunnelMigrateFeature.\n\nI agree with (a). **For (b) do you mean we should run the kernel tests on all kernels equal to or newer than 4.19 without checking the minor version?**\n\n```\n[but I assume you still want to cp to udc-dev...]\n```\n\nI chatted with Ross, udc is code freeze and I will release this test fix to the VTS R2 release.",
      "parentUuid": "193e3284_c73cd85c",
      "revId": "7e009b5b42c6e5997bcb7af720bdcae095661b86",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}