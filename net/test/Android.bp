package {
    // See: http://go/android-license-faq
    default_applicable_licenses: ["Android-Apache-2.0"],
}

python_defaults {
    name: "kernel_net_tests_defaults",
    stem: "kernel_net_tests_bin",
    srcs: [
        "*.py",
    ],
    libs: [
        "scapy",
    ],
    main: "all_tests.py",
}


// Legacy Python 2 target.
// Will be deleted once the Python 3 target gets some soak time.
python_test {
    name: "vts_kernel_net_tests_python2",
    defaults: ["kernel_net_tests_defaults"],
    version: {
        py2: {
            embedded_launcher: true,
            enabled: true,
        },
        py3: {
            enabled: false,
        },
    },
    test_config: "vts_kernel_net_tests.xml",
}

// Main target used for VTS tests.
python_test {
    name: "vts_kernel_net_tests",
    defaults: ["kernel_net_tests_defaults"],
    version: {
        py2: {
            enabled: false,
        },
        py3: {
            embedded_launcher: true,
            enabled: true,
        },
    },
    test_config: "vts_kernel_net_tests.xml",
    test_suites: ["vts", "general-tests"],
}
